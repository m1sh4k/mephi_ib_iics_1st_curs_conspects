### Коп

**КОП** — число, которое однозначно идентифицирует команду в системе команд.
### Счетчик команд

## Формат команды

Графически  [[1. Арифметические основы ЭВМ#Формат|формат]] — прямоугольная сетка, где клетки — [[1. Арифметические основы ЭВМ#Формат|поля формата]].

| Операционная | Адресная |
| ------------ | -------- |
В операционной части находится Код ОПерации.
В адресной части 
### Характеристика формата адреса

**Адресация** _(способ адресации)_ ­— способ указания местонахождения операнда в адресном поле.
#### Адресной части
**Адресность** — количество адресов в адресной части команды.
Их может быть произвольное количество.

В адресной части может быть
- Операнд
- Адрес следующей команды (при принудительной адресации команд или для выполнения условных переходов)
#### Операционной части
**Мощность** — количество команд в системе команд ЭВМ, определяется разрядностью операционной части.

Адрес, по которому находится операнд — **исполнительный**.
### Основные способы адресации операндов

#### Неявная адресация

При неявной адресации в команде не содержится явных указаний об адресе участвующего в операции операнда или адреса, по которому помещается результат операции, но адрес подразумевается.

- **Объем памяти**, потребляемый командой — **небольшой**.
- **Время** для нахождения операнда по адресу не **требуется**.
- **Количество команд** в системе команд — **большое**.
#### Непосредственная адресация

При непосредственной адресации операнд размещается непосредственно в адресном поле команды.

Размер адресного поля определяет разрядность процессора.

- **Объем памяти**, потребляемый командой, при большой разрядности операнда — **большой**.
- Для изменения данных нужно **изменять программу**. Вмешательства в программу чреваты ошибками.

Такой тип адресации хорошо подходит для хранения констант небольшого размера.

| КОП | ОПЕРАНД |
| --- | ------- |
#### Прямая адресация

Разрядность поля соответствует емкости запоминающего устройства.
В адресном поле команды находится адрес ячейки оперативной памяти, где хранится операнд.
Емкость памяти $=2^{n}$, где $n$ — разрядность адресной части.

| КОП | Адрес Операнда |
| --- | -------------- |
##### Регистровая адресация

Подвид прямой адресации.
Разрядность поля соответствует количеству регистров.
При регистровой адресации в адресном поле команды находится адрес регистра, в котором находится операнд.

| КОП | Адрес Регистра |
| --- | -------------- |
#### Косвенная

При косвенной адресации в адресном поле команды содержится адрес по которому лежит адрес операнда. Вложенность может быть многократны.

| КОП | Адрес ячейки ООП, где находится адрес операнда |
| --- | ---------------------------------------------- |
Плохо:
- **Время доступа большое** — надо обратиться к памяти столько раз, сколько уровней вложенности.
- **Размер адресного поля** однозначно показывает объем ЭВМ. Чем больше памяти, тем больше команда.

##### Косвенная регистровая

В адресном поле указан регистр, в котором находится адрес операнда.
Для оптимизации размер регистра должен совпадать с разрядностью адреса ООП.

Хорошо:
- Меньше размер адресного поля (регистров мало)
- Время доступа к адресу происходить со скоростью регистровой памяти

#### Относительная адресация

При относительной адресации операнд находится по адресу, который вычисляется на основании сведений в адресном поле команды и состоянии процессора.
При относительной адресации присутствует два компонента:
1. Опорная база
2. Смещение

Опорная база может указываться **неявно**.
Причем смещение  указывается всегда **явно**.

При использовании относительной адресации в ЭВМ необходимо устройство, формирующее относительный адрес.

Зачастую за базу берется адрес счетчика команд.
Тогда при перемещении адресов команды не требуется переносить данные.

#### Автоинкрементная (декерментная) адресация

При такой адресации до/после выполнения команды адрес в регистре увеличивается/уменьшается на размер операнда.

| КОП | Номер регистра -> регистр, в котором адрес операнда |
| --- | --------------------------------------------------- |
#### Базовая адресация с индексированием
Исполнительный адрес формируется сложением содержимого базового регистра с содержимым индексного регистра.


### Способы адресации команд

#### Принудительная

Каждая команда хранит в себе адрес следующей.

Хорошо:
-  Команды могут располагаться в произвольных ячейках памяти
-  Высокая скорость доступа (адрес следующей находится в текущей)
Плохо:
- Каждая команда тянет с собой адрес (память)
  
#### Естественная

Команды расположены друг за другом в последующих ячейках памяти.
Адрес следующей команды формируется с помощью счетчика команд путем инкремента адреса текущей команды на длину команды.